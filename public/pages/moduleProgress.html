<div id="container" class="container" ng-controller="moduleProgressController" style="padding-left: 150px">
    <div class="visible-md visible-lg visible-sm" style="position:fixed; left: 10px; top:80px; font-size: 12pt; max-width: 250px">
        <ul class="list-unstyled">
            <li><input type="checkbox" ng-model="showStreams" ng-change="processWithRowSpans()"> Streams</li>
            <li><input type="checkbox" ng-model="showCards" ng-change="processWithRowSpans()"> Cards</li>
            <li><input type="checkbox" ng-model="showModules" ng-change="processWithRowSpans()"> SME / Modules</li>
            <li><br/></li>
            <li><img width="20" height="20" alt="Conf" src="img/duedate2.png"/> DueDate confirmed</li>
            <li><img width="20" height="20" alt="Conf" src="img/ban.png"/> Has blockers</li>
            <li><img width="20" height="20" alt="Conf" src="img/deffered.png"/> Has deferred</li>
            <li><br/></li>
            <li>Fix Version:<select class="form-control headerSelectWidth" ng-model="filteredVersion" class="headerSelectWidth" ng-options="version.name as version.name for version in allVersions" ng-change="filterModule()"></select></li>
            <li>SME:<select class="form-control headerSelectWidth" ng-model="filteredSme" class="headerSelectWidth" ng-options="sme.name as sme.name for sme in allSMEs" ng-change="filterModule()"></select></li>
            <li>Module Group:<select style="max-width: 250px !important;" class="form-control headerSelectWidth" ng-model="filteredMG" class="headerSelectWidth" ng-options="moduleGroup.name as moduleGroup.name for moduleGroup in allModuleGroups" ng-change="filterModule()"></select></li>
            <li>Team:<select class="form-control headerSelectWidth" ng-model="filteredTeam" class="headerSelectWidth" ng-options="team.name as team.name for team in allTeams" ng-change="filterModule()"></select></li>
            <li><br/></li>
            <li><input type="checkbox" ng-model="total.inProgress.isChecked" ng-change="processWithRowSpans()"><span class="glyphicon glyphicon-play"></span><strong> {{total.inProgress.count}}</strong>:In Progress</li>
            <li class="readyForQA"><input type="checkbox" ng-model="total.readyForQA.isChecked" ng-change="processWithRowSpans()"> <span class="glyphicon glyphicon-th-list"></span><strong> {{total.readyForQA.count}}</strong>:Testing is in prog</li>
            <li class="readyForAcceptance"><input type="checkbox" ng-model="total.resolved.isChecked" ng-change="processWithRowSpans()"><span class="glyphicon glyphicon-check"></span><strong> {{total.resolved.count}}</strong>:Resolved</li>
            <li class="accepted"><input type="checkbox" ng-model="total.accepted.isChecked" ng-change="processWithRowSpans()"><span class="glyphicon glyphicon-star"></span><strong> {{total.accepted.count}}</strong>:Accepted</li>
            <li class="cancelled"><input type="checkbox" ng-model="total.cancelled.isChecked" ng-change="processWithRowSpans()"><span class="glyphicon glyphicon-ban-circle"></span><strong> {{total.cancelled.count}}</strong>:Out Of Scope</li>
            <li class="cancelled"><input type="checkbox" ng-model="total.notApplicable.isChecked" ng-change="processWithRowSpans()"><span class="glyphicon glyphicon-ban-circle"></span><strong> {{total.notApplicable.count}}</strong>:Not Applicable</li>
            <li><br/></li>
            <li><input type="checkbox" ng-model="total.all.isChecked" ng-change="onSelectDeselectAll()"><span class="glyphicon glyphicon-shopping-cart"></span><strong> {{total.total}}</strong>:Total</li>
            <li><br/></li>
            <li><label><span class="glyphicon glyphicon-asterisk"></span><strong>{{total.doneSP | number : 0}}/{{total.summSP | number : 0}}</strong>:SP</label></li>
        </ul>
    </div>
    <div class="row">
        <table class="table table-bordered">
            <thead class="progressTableMainHeader">
            <tr>
                <th>Teams</th>
                <th ng-repeat="version in showVersions">{{version}}</th>
            </tr>
                <tr ng-repeat = "team in teamLoadData">
                    <div ng-repeat="version in showVersions">
                    <td class="bg-success">
                        <div>{{team.name}}</div>
                    </td>
                    <td ng-repeat="version in team.versions">
                        <div class="disp-block">
                            <sup style="color: blue">{{version.done | number : 0}}/</sup>
                            <sup style="color: darkred">{{version.total | number : 0}}</sup>
                            <span style="font-style: italic">{{version.restSP | number : 0}}</span>
                        </div>
                        <table class="table table-condensed" ng-if="showCards">
                            <tr ng-repeat = "card in version.smeNames">
                                <td ng-class="{accepted: card.accepted,
                                    readyForAcceptance: card.readyForAcceptance,
                                    readyForQA: card.readyForQA,
                                    cancelled: card.cancelled,
                                    'bg-info': true}">
                                    <div id="card_progress">
                                        <div class="bar" ng-style="{width: card.progress + '%'}"></div>
                                    </div>
                                    <div class="disp-block">
                                        <sup style="color: blue">{{card.reportedSP | number : 0}}/</sup>
                                        <sup style="color: darkred">{{card.summarySP | number : 0}}</sup>
                                        <span style="font-style: italic">{{card.restSP | number : 0}}</span>
                                        <br/>
                                        <img ng-show="card.priority == 1" width="16" height="16" alt="Conf" src="img/1.png"/>
                                        <img ng-show="card.priority == 2" width="16" height="16" alt="Conf" src="img/2.png"/>
                                        <img ng-show="card.priority == 3" width="16" height="16" alt="Conf" src="img/3.png"/>
                                        <img ng-show="card.priority == 4" width="16" height="16" alt="Conf" src="img/4.png"/>
                                        <img ng-show="card.priority == 5" width="16" height="16" alt="Conf" src="img/5.png"/>
                                        <img ng-show="card.dueDateConfirmed" width="16" height="16" alt="Conf" src="img/duedate2.png"/>
                                        <img ng-show="card.blocked" width="16" height="16" alt="Conf" src="img/ban.png"/>
                                        <img ng-show="card.deferred" width="16" height="16" alt="Conf" src="img/deffered.png"/>
                                    </div>
                                    <a class="disp-block" href="{{card.uri}}">{{card.name}}</a>
                                </td>
                            </tr>
                        </table>
                    </td>
                    </div>
                </tr>
        </table>
    </div>
</div>
